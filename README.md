<h1 id="top" align="center">WEB API</h1>

### Configure Env Variables

-   Rename `.env.dev.code.example` or `.env.dev.docker.example` as `.env.dev` with proper configuration. (If you launch from docker copy .docker.example, if you launch from development environment VS Code etc..., copy .code.example)

-   Rename `.env.prod.example` as `.env.prod` with proper configuration.

<br/>

### Development Mode

-   Install dependencies

```
npm i
```

-   Run dev server with hot reload

```
npm run dev
```

<br/>

### Production mode

-   Refer system startup commands for production launch. Check [`docker-config`](https://github.com/staucktion/docker-config) repository.

<br/>

### Test endpoint

/test directory includes postman endpoint test

<br/>

### Updating Prisma

-   Make changes on database.
-   Use git bash as terminal to run following commands (do not use powershell as creating file in different format).

#### All Prisma (It will re-create prisma completely. Generally not needed, following title could be more suitable to update prisma)

```
rm -r ./prisma
npx prisma init
npx prisma db pull
```

#### Change Migration (It will update prisma.schema and re-create migration which satisfy changes)

```
rm ./prisma/migrations/0_init/migration.sql
npx prisma db pull
mkdir -p ./prisma/migrations/0_init
npx prisma migrate diff --from-empty --to-schema-datamodel prisma/schema.prisma --script > prisma/migrations/0_init/migration.sql
npx prisma migrate resolve --applied 0_init
npx prisma generate
npm run dev
```

<br/>

### E-Mail System Setup

For email configuration to work, you need to provide the needed parameters. If you wish to use Gmail (easy for local testing), you need to get the Gmail "App Password" generated by Google. Then you need to make sure EMAIL_FROM value is set to the email address you generated the password for previously, and you should set your EMAIL_PASS key as the App Password you generated.

<br/>